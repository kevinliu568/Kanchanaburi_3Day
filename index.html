<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>曼谷-北碧 3天2夜 | 專屬行程</title>
    
    <!-- 引入 Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 引入 React 和 ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- 引入 Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- 引入 Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@500;700&family=Noto+Sans+TC:wght@400;500;700&family=Outfit:wght@500;700;800&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['"Noto Sans TC"', 'sans-serif'],
                        thai: ['"Noto Sans Thai"', 'sans-serif'],
                        display: ['"Outfit"', 'sans-serif'],
                    },
                    colors: {
                        day1: { light: '#E0F2FE', main: '#0EA5E9', dark: '#0369A1' }, // Sky Blue
                        day2: { light: '#DCFCE7', main: '#22C55E', dark: '#15803D' }, // Nature Green
                        day3: { light: '#FFEDD5', main: '#F97316', dark: '#C2410C' }, // History Orange
                    },
                    boxShadow: {
                        'soft': '0 10px 40px -10px rgba(0,0,0,0.08)',
                        'card': '0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03)',
                    }
                }
            }
        }
    </script>
    
    <style>
        body {
            background-color: #F8FAFC;
            -webkit-tap-highlight-color: transparent;
        }
        
        /* 隱藏捲軸但保留功能 */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        /* 動畫 */
        @keyframes slideInUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .animate-enter { animation: slideInUp 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        
        /* 毛玻璃效果 */
        .glass {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(8px);
            border: 1px solid rgba(255,255,255,0.5);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // --- Icons (使用 Lucide 風格 SVG) ---
        const Icon = ({ path, className, size = 20 }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                {path}
            </svg>
        );

        const Icons = {
            MapPin: (p) => <Icon {...p} path={<><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></>} />,
            Calendar: (p) => <Icon {...p} path={<><rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/></>} />,
            Hotel: (p) => <Icon {...p} path={<><path d="M12 2a2 2 0 0 1 2 2v2.5h3A2.5 2.5 0 0 1 19.5 9v9h-15V9A2.5 2.5 0 0 1 7 6.5h3V4a2 2 0 0 1 2-2Z"/><path d="M7 18v4"/><path d="M17 18v4"/><rect width="3" height="3" x="10.5" y="11" rx="1"/></>} />,
            Coffee: (p) => <Icon {...p} path={<><path d="M17 8h1a4 4 0 1 1 0 8h-1"/><path d="M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z"/><line x1="6" x2="6" y1="2" y2="4"/><line x1="10" x2="10" y1="2" y2="4"/><line x1="14" x2="14" y1="2" y2="4"/></>} />,
            Camera: (p) => <Icon {...p} path={<><path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"/><circle cx="12" cy="13" r="3"/></>} />,
            Sun: (p) => <Icon {...p} path={<><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></>} />,
            Utensils: (p) => <Icon {...p} path={<><path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"/><path d="M7 2v20"/><path d="M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"/></>} />,
            CloudRain: (p) => <Icon {...p} path={<><path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"/><path d="M16 14v6"/><path d="M8 14v6"/><path d="M12 16v6"/></>} />,
            Info: (p) => <Icon {...p} path={<><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></>} />,
            Train: (p) => <Icon {...p} path={<><rect width="16" height="16" x="4" y="3" rx="2"/><path d="M4 11h16"/><path d="M12 3v8"/><path d="m8 19-2 3"/><path d="m18 22-2-3"/><path d="M8 15h0"/><path d="M16 15h0"/></>} />,
            ShieldAlert: (p) => <Icon {...p} path={<><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"/><path d="M12 8v4"/><path d="M12 16h.01"/></>} />,
            Phone: (p) => <Icon {...p} path={<><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></>} />,
            Navigation: (p) => <Icon {...p} path={<><polygon points="3 11 22 2 13 21 11 13 3 11"/></>} />,
            X: (p) => <Icon {...p} path={<><path d="M18 6 6 18"/><path d="m6 6 12 12"/></>} />,
            ArrowRight: (p) => <Icon {...p} path={<><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></>} />,
            Users: (p) => <Icon {...p} path={<><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></>} />,
            Siren: (p) => <Icon {...p} path={<><path d="M7 12a5 5 0 0 1 5-5v0a5 5 0 0 1 5 5v6H7v-6Z"/><path d="M5 20a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v2H5v-2Z"/><path d="M21 12h1"/><path d="M18.5 4.5 18 5"/><path d="M2 12h1"/><path d="M12 2v1"/><path d="m4.929 4.929.707.707"/><path d="M12 12v6"/></>} />
        };

        // --- Data ---
        const TRIP_DATES = "2026/01/30 - 02/01";
        const PLACES = {
          hotel_bkk_start: { id: 'hotel_bkk_start', name: '曼谷素坤逸假日酒店 (Holiday Inn Bangkok Sukhumvit)', nameThai: 'ฮอลิเดย์ อินน์ กรุงเทพฯ สุขุมวิท', address: '1 Sukhumvit 22, Klongton, Klongtoey, Bangkok 10110', googleQuery: 'Holiday Inn Bangkok Sukhumvit', type: 'hotel' },
          bubble: { id: 'bubble', name: '森林泡泡咖啡廳 (Bubble in the Forest)', nameThai: 'บับเบิ้ล อิน เดอะ ฟอเรสต์ คาเฟ่', address: '170 Charoen Tha Alley, Bang Toei, Sam Phran District, Nakhon Pathom 73170', googleQuery: 'Bubble in the Forest', type: 'food' },
          phra_pathom: { id: 'phra_pathom', name: '佛統大塔 (Phra Pathom Chedi)', nameThai: 'วัดพระปฐมเจดีย์ราชวรมหาวิหาร', address: 'Nakhon Pathom', googleQuery: 'Phra Pathom Chedi', type: 'attraction' },
          tiger_cave: { id: 'tiger_cave', name: '虎窟寺 (Wat Tham Suea)', nameThai: 'วัดถ้ำเสือ', address: 'Muang Chum, Tha Muang District, Kanchanaburi', googleQuery: 'Wat Tham Suea Kanchanaburi', type: 'attraction' },
          hotel_kan: { id: 'hotel_kan', name: '皇家桂河度假村 (Royal River Kwai Resort)', nameThai: 'รอยัล ริเวอร์แคว รีสอร์ท แอนด์ สปา', address: '88 Moo 2, Kanchanaburi-Saiyok Road, Kangsean, Muang, Kanchanaburi 71000', googleQuery: 'Royal River Kwai Resort & Spa', type: 'hotel' },
          skywalk: { id: 'skywalk', name: '北碧天空步道 (Skywalk)', nameThai: 'สกายวอร์ค กาญจนบุรี', address: 'Songkwai Rd, Ban Tai/Ban Nuea, Mueang Kanchanaburi', googleQuery: 'Skywalk Kanchanaburi City', type: 'attraction' },
          keeree_tara: { id: 'keeree_tara', name: 'Keeree Tara 河景晚餐', nameThai: 'คีรีธารา', address: 'River Kwai Rd, Ban Tai, Mueang Kanchanaburi 71000', googleQuery: 'Keeree Tara Restaurant', type: 'food' },
          erawan: { id: 'erawan', name: 'Erawan 國家公園瀑布', nameThai: 'อุทยานแห่งชาติเอราวัณ', address: 'Erawan Waterfall, Kanchanaburi', googleQuery: 'Erawan National Park', type: 'attraction' },
          safari: { id: 'safari', name: '北碧野生動物園 (Safari Park)', nameThai: 'สวนสัตว์เปิด ซาฟารี ปาร์ค', address: '99 Lat Ya–Bo Phloi Rd, Nong Kum, Bo Phloi, Kanchanaburi 71160', googleQuery: 'Safari Park Open Zoo Kanchanaburi', type: 'attraction' },
          bridge_morning: { id: 'bridge_morning', name: '桂河大橋 (River Kwai Bridge)', nameThai: 'สะพานข้ามแม่น้ำแคว', address: 'Thamuang, Kanchanaburi', googleQuery: 'River Kwai Bridge', type: 'attraction' },
          tbrc: { id: 'tbrc', name: '泰緬鐵路博物館 (TBRC)', nameThai: 'พิพิธภัณฑ์ทางรถไฟไทย-พม่า', address: '73 Jaokunnuern Rd, Ban Nuea, Mueang Kanchanaburi 71000', googleQuery: 'Thailand–Burma Railway Centre', type: 'attraction' },
          kan_station: { id: 'kan_station', name: '北碧火車站 (上車點)', nameThai: 'สถานีรถไฟกาญจนบุรี', address: 'Kanchanaburi Railway Station', googleQuery: 'Kanchanaburi Railway Station', type: 'transport' },
          tham_krasae: { id: 'tham_krasae', name: 'Tham Krasae (木棧道/下車點)', nameThai: 'สถานีรถไฟถ้ำกระแซ', address: 'Tham Krasae', googleQuery: 'Saphan Tham Krasae', type: 'attraction' },
          hotel_bkk_end: { id: 'hotel_bkk_end', name: '曼谷假日酒店 (Holiday Inn Bangkok)', nameThai: 'ฮอลิเดย์ อินน์ กรุงเทพฯ', address: '981 Silom Rd, Bangrak, Bangkok 10500 (請確認分館)', googleQuery: 'Holiday Inn Bangkok Silom', type: 'hotel' }
        };

        const ITINERARY = {
          day1: [
            { time: '09:00', placeId: 'hotel_bkk_start', note: '6人包車出發，檢查水與零食', icon: 'Hotel' },
            { time: '10:00', placeId: 'bubble', note: '網美午餐，建議提早到', icon: 'Coffee' },
            { time: '11:55', placeId: 'phra_pathom', note: '需遮肩過膝，不可穿短褲短裙', icon: 'Camera' },
            { time: '14:30', placeId: 'tiger_cave', note: '視野強，建議請司機開車上坡', icon: 'Camera' },
            { time: '16:10', placeId: 'hotel_kan', note: '快速 Check-in 放行李', icon: 'Hotel' },
            { time: '16:40', placeId: 'skywalk', note: '看三河匯流夕陽，需穿鞋套', icon: 'Sun' },
            { time: '18:00', placeId: 'keeree_tara', note: '河景晚餐 (建議訂戶外位)', icon: 'Utensils' },
          ],
          day2: [
            { time: '07:00', placeId: 'hotel_kan', note: '早出發避人潮', icon: 'Hotel' },
            { time: '08:10', placeId: 'erawan', note: '玩到第4-5層，記得穿溯溪鞋', icon: 'CloudRain' },
            { time: '11:30', note: '午餐：園區內簡單解決', icon: 'Utensils' },
            { time: '13:15', placeId: 'safari', note: '停留2-3小時，看長頸鹿', icon: 'Camera' },
            { time: '17:30', placeId: 'hotel_kan', note: '回飯店或市區晚餐', icon: 'Hotel' },
          ],
          day3: [
            { time: '08:00', placeId: 'bridge_morning', note: '(可選) 晨拍桂河大橋，人少', icon: 'Camera' },
            { time: '09:00', placeId: 'tbrc', note: '搭配戰俘墓園順遊', icon: 'Info' },
            { time: '10:10', placeId: 'kan_station', note: '前往車站買票，無劃位', icon: 'Train' },
            { time: '10:20', note: '搭乘死亡鐵路 (Kanchanaburi -> Tham Krasae)', icon: 'Train' },
            { time: '11:40', placeId: 'tham_krasae', note: '精華木棧道段，下車拍照', icon: 'Camera' },
            { time: '13:10', note: '午餐：周邊簡餐', icon: 'Utensils' },
            { time: '14:00', note: '包車回曼谷 (約 3 小時)', icon: 'Hotel' },
            { time: '17:00', placeId: 'hotel_bkk_end', note: '入住曼谷 (確認實際分館地址)', icon: 'Hotel' },
          ]
        };

        // --- Colors & Themes ---
        const themeConfig = {
            day1: { bg: 'bg-day1-light', text: 'text-day1-dark', border: 'border-day1-main', ring: 'ring-day1-main', iconBg: 'bg-day1-main', gradient: 'from-cyan-500 to-blue-500' },
            day2: { bg: 'bg-day2-light', text: 'text-day2-dark', border: 'border-day2-main', ring: 'ring-day2-main', iconBg: 'bg-day2-main', gradient: 'from-emerald-400 to-green-600' },
            day3: { bg: 'bg-day3-light', text: 'text-day3-dark', border: 'border-day3-main', ring: 'ring-day3-main', iconBg: 'bg-day3-main', gradient: 'from-orange-400 to-red-500' },
            info: { bg: 'bg-slate-100', text: 'text-slate-800', border: 'border-slate-300', ring: 'ring-slate-400', iconBg: 'bg-slate-700', gradient: 'from-slate-700 to-slate-900' }
        };

        // --- Components ---

        const Modal = ({ children, isOpen, onClose, borderColor = "border-gray-200" }) => {
            useEffect(() => {
                if (isOpen) document.body.style.overflow = 'hidden';
                else document.body.style.overflow = 'unset';
                return () => { document.body.style.overflow = 'unset'; };
            }, [isOpen]);

            if (!isOpen) return null;

            return (
                <div className="fixed inset-0 z-50 flex items-center justify-center p-4" onClick={onClose}>
                    <div className="absolute inset-0 bg-slate-900/80 backdrop-blur-sm animate-[fadeIn_0.2s_ease-out]"></div>
                    <div 
                        className={`bg-white rounded-[2rem] p-6 w-full max-w-sm shadow-2xl relative z-10 animate-[slideInUp_0.3s_ease-out] border-4 ${borderColor}`}
                        onClick={e => e.stopPropagation()}
                    >
                        {children}
                    </div>
                </div>
            );
        };

        const DriverCard = ({ place, onClose }) => {
            return (
                <Modal isOpen={true} onClose={onClose} borderColor="border-blue-500">
                    <div className="text-center space-y-5">
                        <div className="flex justify-between items-center">
                            <span className="text-xs font-bold uppercase tracking-widest text-blue-500 bg-blue-50 px-2 py-1 rounded">Driver Card</span>
                            <button onClick={onClose} className="p-2 -mr-2 -mt-2 bg-gray-100 rounded-full hover:bg-gray-200"><Icons.X size={20}/></button>
                        </div>
                        
                        <div>
                            <h2 className="text-4xl font-thai font-bold text-slate-900 leading-tight mb-2 drop-shadow-sm">{place.nameThai}</h2>
                            <p className="text-slate-500 font-medium text-lg leading-snug">{place.name}</p>
                        </div>

                        <div className="bg-slate-50 p-4 rounded-xl text-left border border-slate-100">
                            <p className="text-[10px] text-slate-400 font-bold uppercase mb-1">Address</p>
                            <p className="text-sm text-slate-700 font-thai leading-relaxed">{place.address}</p>
                        </div>

                        <a 
                            href={`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(place.googleQuery)}`}
                            target="_blank"
                            rel="noopener noreferrer"
                            className="flex items-center justify-center gap-3 w-full bg-blue-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg shadow-blue-600/30 hover:bg-blue-700 hover:scale-[1.02] transition-all"
                        >
                            <Icons.Navigation size={24} />
                            <span>開啟導航 (Map)</span>
                        </a>
                    </div>
                </Modal>
            );
        };

        const SOSCard = ({ onClose }) => (
            <Modal isOpen={true} onClose={onClose} borderColor="border-red-500">
                 <div className="text-center space-y-6">
                    <div className="flex justify-between items-center border-b border-gray-100 pb-3">
                        <h3 className="text-red-600 font-bold text-xl flex items-center gap-2">
                            <Icons.Siren className="animate-pulse" /> 緊急求救 SOS
                        </h3>
                        <button onClick={onClose} className="p-2 -mr-2 bg-red-50 rounded-full text-red-400 hover:bg-red-100"><Icons.X size={20}/></button>
                    </div>
                    
                    <div className="bg-red-50 p-5 rounded-2xl border border-red-100">
                        <p className="text-xs text-red-400 mb-2 font-bold uppercase tracking-wide">Show to Locals</p>
                        <p className="text-3xl font-bold text-slate-900 font-thai leading-snug mb-2">
                            ฉันหลงทาง<br/>ช่วยฉันด้วย
                        </p>
                        <p className="text-sm text-slate-500">( 我迷路了，請幫幫我 )</p>
                    </div>

                    <div className="bg-white p-4 rounded-xl border-2 border-dashed border-slate-200">
                        <p className="text-sm text-slate-500 mb-1">請幫我打電話給 (Please call):</p>
                        <p className="text-xl font-bold text-slate-900 font-thai mb-2">
                            ช่วยโทรหาเบอร์นี้ให้หน่อย
                        </p>
                         <div className="h-8 bg-slate-100 rounded flex items-center justify-center text-slate-400 text-sm font-mono">
                            [ 填寫電話 / Write Number Here ]
                        </div>
                    </div>

                    <button onClick={onClose} className="w-full bg-slate-200 text-slate-600 py-3 rounded-xl font-bold hover:bg-slate-300 transition-colors">
                        關閉 Close
                    </button>
                </div>
            </Modal>
        );

        const TimelineItem = ({ item, isLast, onShowLocation, theme }) => {
            const place = item.placeId ? PLACES[item.placeId] : null;
            const IconComponent = item.icon ? Icons[item.icon] : Icons.MapPin;

            return (
                <div className="flex gap-4 group relative pl-2">
                     {/* Line */}
                    <div className={`absolute left-[3.25rem] top-10 bottom-[-1rem] w-[2px] ${isLast ? 'bg-transparent' : 'bg-slate-200'}`}></div>

                    {/* Time */}
                    <div className="flex flex-col items-center w-12 pt-1 z-10">
                        <span className={`text-sm font-bold font-display ${theme.text}`}>{item.time}</span>
                        <div className={`w-3 h-3 rounded-full mt-2 border-2 bg-white ${theme.border} ${theme.ring} ring-2 ring-offset-2`}></div>
                    </div>

                    {/* Card */}
                    <div className="flex-1 pb-6">
                        <div className="bg-white rounded-2xl p-4 shadow-card border border-slate-100 hover:shadow-soft transition-all duration-300">
                            <div className="flex justify-between items-start mb-2">
                                <div>
                                    <h3 className="font-bold text-slate-800 text-lg leading-snug pr-2">
                                        {place ? place.name.split('(')[0] : item.note.split('：')[0]}
                                    </h3>
                                    {place && <p className="text-xs text-slate-400 font-thai mt-0.5 line-clamp-1">{place.nameThai}</p>}
                                </div>
                                <div className={`p-2 rounded-xl shrink-0 ${theme.bg} ${theme.text}`}>
                                    <IconComponent size={18} />
                                </div>
                            </div>
                            
                            <div className="text-sm text-slate-600 mb-4 bg-slate-50/50 p-2.5 rounded-lg leading-relaxed">
                                {item.note}
                            </div>

                            {place && (
                                <button 
                                    onClick={() => onShowLocation(place)}
                                    className={`w-full group/btn relative overflow-hidden rounded-xl bg-white border ${theme.border} ${theme.text} text-sm font-bold py-3 flex items-center justify-center gap-2 hover:${theme.bg} transition-all active:scale-[0.98]`}
                                >
                                    <span className="relative z-10 flex items-center gap-2">
                                        <Icons.MapPin size={16} /> 
                                        <span>司機卡 & 導航</span>
                                    </span>
                                </button>
                            )}
                        </div>
                    </div>
                </div>
            );
        };

        const TripApp = () => {
            const [activeTab, setActiveTab] = useState('day1');
            const [selectedPlace, setSelectedPlace] = useState(null);
            const [showSOS, setShowSOS] = useState(false);
            const [scrolled, setScrolled] = useState(false);

            useEffect(() => {
                const handleScroll = () => setScrolled(window.scrollY > 20);
                window.addEventListener('scroll', handleScroll);
                return () => window.removeEventListener('scroll', handleScroll);
            }, []);

            const currentTheme = themeConfig[activeTab];

            // Render content based on active tab
            const renderContent = () => {
                if (activeTab === 'info') {
                    return (
                        <div className="space-y-6 animate-enter px-1">
                            {/* SOS Section */}
                             <div className="bg-white rounded-2xl p-5 shadow-soft border border-red-100">
                                <div className="flex items-center gap-3 mb-4">
                                    <div className="p-3 bg-red-100 rounded-full text-red-600"><Icons.Users size={24}/></div>
                                    <div>
                                        <h3 className="font-bold text-slate-800">走失應變 (Emergency)</h3>
                                        <p className="text-xs text-slate-500">會合點：售票口 / 大廳 / 原地</p>
                                    </div>
                                </div>
                                <button 
                                    onClick={() => setShowSOS(true)}
                                    className="w-full bg-gradient-to-r from-red-500 to-rose-600 text-white py-4 rounded-xl font-bold flex items-center justify-center gap-2 shadow-lg shadow-red-500/30 hover:scale-[1.02] transition-transform"
                                >
                                    <Icons.Siren size={20} className="animate-pulse" />
                                    顯示泰文求救卡 (SOS Card)
                                </button>
                            </div>

                            {/* Packing List */}
                            <div className="bg-white rounded-2xl p-5 shadow-card">
                                <h3 className="font-bold text-slate-800 mb-3 flex items-center gap-2">
                                    <Icons.ShieldAlert size={20} className="text-rose-500"/> 必帶物品
                                </h3>
                                <div className="grid grid-cols-2 gap-3">
                                    {['溯溪鞋/涼鞋', '泳衣/毛巾', '防水袋', '防蚊/防曬', '常備藥品', '現金'].map(item => (
                                        <div key={item} className="flex items-center gap-2 text-sm text-slate-600 bg-slate-50 p-2 rounded-lg">
                                            <span className="w-1.5 h-1.5 rounded-full bg-rose-400"></span> {item}
                                        </div>
                                    ))}
                                </div>
                            </div>

                             {/* Contact */}
                             <div className="bg-white rounded-2xl p-5 shadow-card">
                                <h3 className="font-bold text-slate-800 mb-3 flex items-center gap-2">
                                    <Icons.Phone size={20} className="text-amber-500"/> 重要電話
                                </h3>
                                <div className="space-y-3">
                                    <a href="tel:+6634513855" className="flex justify-between items-center p-3 bg-amber-50 rounded-xl text-amber-900">
                                        <span className="text-sm font-medium">Keeree Tara</span>
                                        <span className="font-mono font-bold">+66 34 513 855</span>
                                    </a>
                                     <a href="tel:0657276888" className="flex justify-between items-center p-3 bg-amber-50 rounded-xl text-amber-900">
                                        <span className="text-sm font-medium">Bubble Forest</span>
                                        <span className="font-mono font-bold">065-727-6888</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    );
                }

                return (
                    <div className="animate-enter pb-8">
                        <div className="flex items-center gap-3 mb-6 px-2">
                            <div className={`w-1.5 h-8 rounded-full bg-gradient-to-b ${currentTheme.gradient}`}></div>
                            <div>
                                <h2 className="text-xl font-bold text-slate-900 tracking-tight">
                                    {activeTab === 'day1' && '文化與河景'}
                                    {activeTab === 'day2' && '瀑布與生態'}
                                    {activeTab === 'day3' && '鐵道歷史行'}
                                </h2>
                                <p className="text-xs text-slate-500 font-medium">
                                    {activeTab === 'day1' && 'Day 1 • 曼谷 → 北碧'}
                                    {activeTab === 'day2' && 'Day 2 • 國家公園日'}
                                    {activeTab === 'day3' && 'Day 3 • 北碧 → 曼谷'}
                                </p>
                            </div>
                        </div>

                         {/* Day Specific Alerts */}
                         {activeTab === 'day2' && (
                            <div className="mx-2 mb-6 bg-gradient-to-r from-emerald-50 to-teal-50 border border-emerald-100 p-4 rounded-xl flex gap-3 shadow-sm">
                                <div className="bg-white p-2 rounded-full h-fit text-emerald-600 shadow-sm"><Icons.ShieldAlert size={18}/></div>
                                <div>
                                    <p className="text-sm font-bold text-emerald-800">體力日提醒</p>
                                    <p className="text-xs text-emerald-700 mt-1">請務必攜帶溯溪鞋、泳衣、毛巾與防水袋。</p>
                                </div>
                            </div>
                         )}

                         {activeTab === 'day3' && (
                             <div className="mx-2 mb-6 bg-orange-50 border border-orange-100 p-3 rounded-xl flex items-center gap-3 text-orange-800 text-sm">
                                <Icons.Train size={18} className="shrink-0"/>
                                <span className="text-xs font-medium">火車誤點屬常態，司機會在終點站等候。</span>
                             </div>
                         )}

                        <div className="space-y-1">
                            {ITINERARY[activeTab].map((item, index) => (
                                <TimelineItem 
                                    key={index} 
                                    item={item} 
                                    isLast={index === ITINERARY[activeTab].length - 1} 
                                    onShowLocation={setSelectedPlace}
                                    theme={currentTheme}
                                />
                            ))}
                        </div>
                    </div>
                );
            };

            return (
                <div className="min-h-screen font-sans max-w-md mx-auto relative bg-[#F8FAFC]">
                    {/* Header */}
                    <header className={`sticky top-0 z-40 transition-all duration-300 ${scrolled ? 'glass shadow-sm pt-4 pb-2' : 'bg-transparent pt-8 pb-4'}`}>
                        <div className="px-6 flex justify-between items-center">
                            <div>
                                <p className="text-xs font-bold text-slate-400 uppercase tracking-widest mb-1">Trip Itinerary</p>
                                <h1 className="text-2xl font-display font-extrabold text-slate-800">Bangkok &<br/>Kanchanaburi</h1>
                            </div>
                            <div className="w-12 h-12 rounded-2xl bg-gradient-to-br from-blue-500 to-cyan-400 flex items-center justify-center text-white shadow-lg shadow-blue-500/30">
                                <span className="font-display font-bold text-lg">6</span>
                            </div>
                        </div>

                        {/* Navigation Pills */}
                        <div className="mt-6 px-4 pb-2 overflow-x-auto no-scrollbar flex gap-3">
                            {['day1', 'day2', 'day3', 'info'].map((tab) => {
                                const isActive = activeTab === tab;
                                const theme = themeConfig[tab];
                                return (
                                    <button
                                        key={tab}
                                        onClick={() => { setActiveTab(tab); window.scrollTo({top:0, behavior:'smooth'}); }}
                                        className={`
                                            whitespace-nowrap px-5 py-2.5 rounded-full text-sm font-bold transition-all duration-300
                                            ${isActive 
                                                ? `bg-gradient-to-r ${theme.gradient} text-white shadow-lg scale-105` 
                                                : 'bg-white text-slate-400 shadow-sm border border-slate-100 hover:bg-slate-50'}
                                        `}
                                    >
                                        {tab === 'info' ? '指南 Info' : tab.replace('day', 'Day ')}
                                    </button>
                                );
                            })}
                        </div>
                    </header>

                    {/* Main Content */}
                    <main className="px-5 pt-4 pb-24">
                        {renderContent()}
                    </main>

                    {/* Bottom Floating Action Button */}
                    <div className="fixed bottom-6 left-1/2 -translate-x-1/2 z-30">
                        <a 
                            href="https://www.google.com/maps/search/?api=1&query=Kanchanaburi" 
                            target="_blank"
                            rel="noopener noreferrer"
                            className="flex items-center gap-2 bg-slate-900 text-white px-6 py-3 rounded-full shadow-2xl hover:scale-105 transition-transform active:scale-95"
                        >
                            <Icons.MapPin size={18} className="text-green-400" />
                            <span className="font-bold text-sm">Open Full Map</span>
                        </a>
                    </div>

                    {/* Modals */}
                    {selectedPlace && <DriverCard place={selectedPlace} onClose={() => setSelectedPlace(null)} />}
                    {showSOS && <SOSCard onClose={() => setShowSOS(false)} />}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<TripApp />);
    </script>
</body>
</html>
