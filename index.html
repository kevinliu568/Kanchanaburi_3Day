<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>曼谷-北碧 3天2夜包車行程</title>
    <!-- 引入 Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 引入 React 和 ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- 引入 Babel 用於解析 JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@400;700&family=Noto+Sans+TC:wght@400;700&display=swap');
        
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #f8fafc;
            -webkit-tap-highlight-color: transparent;
        }
        .font-thai {
            font-family: 'Noto Sans Thai', sans-serif;
        }
        /* 自定義捲軸隱藏但可捲動 */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        /* 動畫效果 */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes slideUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .animate-fade-in {
            animation: fadeIn 0.3s ease-out forwards;
        }
        .animate-slide-up {
            animation: slideUp 0.4s ease-out forwards;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- Icons (SVG Components) ---
        const Icon = ({ path, className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                {path}
            </svg>
        );

        const Icons = {
            MapPin: (props) => <Icon {...props} path={<><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></>} />,
            Calendar: (props) => <Icon {...props} path={<><rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/></>} />,
            Hotel: (props) => <Icon {...props} path={<><path d="M12 2a2 2 0 0 1 2 2v2.5h3A2.5 2.5 0 0 1 19.5 9v9h-15V9A2.5 2.5 0 0 1 7 6.5h3V4a2 2 0 0 1 2-2Z"/><path d="M7 18v4"/><path d="M17 18v4"/><rect width="3" height="3" x="10.5" y="11" rx="1"/></>} />,
            Coffee: (props) => <Icon {...props} path={<><path d="M17 8h1a4 4 0 1 1 0 8h-1"/><path d="M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z"/><line x1="6" x2="6" y1="2" y2="4"/><line x1="10" x2="10" y1="2" y2="4"/><line x1="14" x2="14" y1="2" y2="4"/></>} />,
            Camera: (props) => <Icon {...props} path={<><path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"/><circle cx="12" cy="13" r="3"/></>} />,
            Sun: (props) => <Icon {...props} path={<><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></>} />,
            Utensils: (props) => <Icon {...props} path={<><path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"/><path d="M7 2v20"/><path d="M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"/></>} />,
            CloudRain: (props) => <Icon {...props} path={<><path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"/><path d="M16 14v6"/><path d="M8 14v6"/><path d="M12 16v6"/></>} />,
            Info: (props) => <Icon {...props} path={<><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></>} />,
            Train: (props) => <Icon {...props} path={<><rect width="16" height="16" x="4" y="3" rx="2"/><path d="M4 11h16"/><path d="M12 3v8"/><path d="m8 19-2 3"/><path d="m18 22-2-3"/><path d="M8 15h0"/><path d="M16 15h0"/></>} />,
            ShieldAlert: (props) => <Icon {...props} path={<><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"/><path d="M12 8v4"/><path d="M12 16h.01"/></>} />,
            Phone: (props) => <Icon {...props} path={<><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></>} />,
            Navigation: (props) => <Icon {...props} path={<><polygon points="3 11 22 2 13 21 11 13 3 11"/></>} />,
            X: (props) => <Icon {...props} path={<><path d="M18 6 6 18"/><path d="m6 6 12 12"/></>} />,
            ArrowRight: (props) => <Icon {...props} path={<><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></>} />,
            Users: (props) => <Icon {...props} path={<><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></>} />,
            Siren: (props) => <Icon {...props} path={<><path d="M7 12a5 5 0 0 1 5-5v0a5 5 0 0 1 5 5v6H7v-6Z"/><path d="M5 20a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v2H5v-2Z"/><path d="M21 12h1"/><path d="M18.5 4.5 18 5"/><path d="M2 12h1"/><path d="M12 2v1"/><path d="m4.929 4.929.707.707"/><path d="M12 12v6"/></>} />
        };

        // --- Data (Updated with Chinese/English Names) ---
        const TRIP_DATES = "2026/01/30 - 02/01";
        const PLACES = {
          hotel_bkk_start: { id: 'hotel_bkk_start', name: '曼谷素坤逸假日酒店 (Holiday Inn Bangkok Sukhumvit)', nameThai: 'ฮอลิเดย์ อินน์ กรุงเทพฯ สุขุมวิท', address: '1 Sukhumvit 22, Klongton, Klongtoey, Bangkok 10110', googleQuery: 'Holiday Inn Bangkok Sukhumvit', type: 'hotel' },
          bubble: { id: 'bubble', name: '森林泡泡咖啡廳 (Bubble in the Forest)', nameThai: 'บับเบิ้ล อิน เดอะ ฟอเรสต์ คาเฟ่', address: '170 Charoen Tha Alley, Bang Toei, Sam Phran District, Nakhon Pathom 73170', googleQuery: 'Bubble in the Forest', type: 'food' },
          phra_pathom: { id: 'phra_pathom', name: '佛統大塔 (Phra Pathom Chedi)', nameThai: 'วัดพระปฐมเจดีย์ราชวรมหาวิหาร', address: 'Nakhon Pathom', googleQuery: 'Phra Pathom Chedi', type: 'attraction' },
          tiger_cave: { id: 'tiger_cave', name: '虎窟寺 (Wat Tham Suea)', nameThai: 'วัดถ้ำเสือ', address: 'Muang Chum, Tha Muang District, Kanchanaburi', googleQuery: 'Wat Tham Suea Kanchanaburi', type: 'attraction' },
          hotel_kan: { id: 'hotel_kan', name: '皇家桂河度假村 (Royal River Kwai Resort)', nameThai: 'รอยัล ริเวอร์แคว รีสอร์ท แอนด์ สปา', address: '88 Moo 2, Kanchanaburi-Saiyok Road, Kangsean, Muang, Kanchanaburi 71000', googleQuery: 'Royal River Kwai Resort & Spa', type: 'hotel' },
          skywalk: { id: 'skywalk', name: '北碧天空步道 (Skywalk)', nameThai: 'สกายวอร์ค กาญจนบุรี', address: 'Songkwai Rd, Ban Tai/Ban Nuea, Mueang Kanchanaburi', googleQuery: 'Skywalk Kanchanaburi City', type: 'attraction' },
          keeree_tara: { id: 'keeree_tara', name: 'Keeree Tara 河景晚餐', nameThai: 'คีรีธารา', address: 'River Kwai Rd, Ban Tai, Mueang Kanchanaburi 71000', googleQuery: 'Keeree Tara Restaurant', type: 'food' },
          erawan: { id: 'erawan', name: 'Erawan 國家公園瀑布', nameThai: 'อุทยานแห่งชาติเอราวัณ', address: 'Erawan Waterfall, Kanchanaburi', googleQuery: 'Erawan National Park', type: 'attraction' },
          safari: { id: 'safari', name: '北碧野生動物園 (Safari Park)', nameThai: 'สวนสัตว์เปิด ซาฟารี ปาร์ค', address: '99 Lat Ya–Bo Phloi Rd, Nong Kum, Bo Phloi, Kanchanaburi 71160', googleQuery: 'Safari Park Open Zoo Kanchanaburi', type: 'attraction' },
          bridge_morning: { id: 'bridge_morning', name: '桂河大橋 (River Kwai Bridge)', nameThai: 'สะพานข้ามแม่น้ำแคว', address: 'Thamuang, Kanchanaburi', googleQuery: 'River Kwai Bridge', type: 'attraction' },
          tbrc: { id: 'tbrc', name: '泰緬鐵路博物館 (TBRC)', nameThai: 'พิพิธภัณฑ์ทางรถไฟไทย-พม่า', address: '73 Jaokunnuern Rd, Ban Nuea, Mueang Kanchanaburi 71000', googleQuery: 'Thailand–Burma Railway Centre', type: 'attraction' },
          kan_station: { id: 'kan_station', name: '北碧火車站 (上車點)', nameThai: 'สถานีรถไฟกาญจนบุรี', address: 'Kanchanaburi Railway Station', googleQuery: 'Kanchanaburi Railway Station', type: 'transport' },
          tham_krasae: { id: 'tham_krasae', name: 'Tham Krasae (木棧道/下車點)', nameThai: 'สถานีรถไฟถ้ำกระแซ', address: 'Tham Krasae', googleQuery: 'Saphan Tham Krasae', type: 'attraction' },
          hotel_bkk_end: { id: 'hotel_bkk_end', name: '曼谷假日酒店 (Holiday Inn Bangkok)', nameThai: 'ฮอลิเดย์ อินน์ กรุงเทพฯ', address: '981 Silom Rd, Bangrak, Bangkok 10500 (請確認分館)', googleQuery: 'Holiday Inn Bangkok Silom', type: 'hotel' }
        };

        const ITINERARY = {
          day1: [
            { time: '09:00', placeId: 'hotel_bkk_start', note: '6人包車出發，檢查水與零食', icon: 'Hotel' },
            { time: '10:00', placeId: 'bubble', note: '網美午餐，建議提早到', icon: 'Coffee' },
            { time: '11:55', placeId: 'phra_pathom', note: '需遮肩過膝，不可穿短褲短裙', icon: 'Camera' },
            { time: '14:30', placeId: 'tiger_cave', note: '視野強，建議請司機開車上坡', icon: 'Camera' },
            { time: '16:10', placeId: 'hotel_kan', note: '快速 Check-in 放行李', icon: 'Hotel' },
            { time: '16:40', placeId: 'skywalk', note: '看三河匯流夕陽，需穿鞋套', icon: 'Sun' },
            { time: '18:00', placeId: 'keeree_tara', note: '河景晚餐 (建議訂戶外位)', icon: 'Utensils' },
          ],
          day2: [
            { time: '07:00', placeId: 'hotel_kan', note: '早出發避人潮', icon: 'Hotel' },
            { time: '08:10', placeId: 'erawan', note: '玩到第4-5層，記得穿溯溪鞋', icon: 'CloudRain' },
            { time: '11:30', note: '午餐：園區內簡單解決', icon: 'Utensils' },
            { time: '13:15', placeId: 'safari', note: '停留2-3小時，看長頸鹿', icon: 'Camera' },
            { time: '17:30', placeId: 'hotel_kan', note: '回飯店或市區晚餐', icon: 'Hotel' },
          ],
          day3: [
            { time: '08:00', placeId: 'bridge_morning', note: '(可選) 晨拍桂河大橋，人少', icon: 'Camera' },
            { time: '09:00', placeId: 'tbrc', note: '搭配戰俘墓園順遊', icon: 'Info' },
            { time: '10:10', placeId: 'kan_station', note: '前往車站買票，無劃位', icon: 'Train' },
            { time: '10:20', note: '搭乘死亡鐵路 (Kanchanaburi -> Tham Krasae)', icon: 'Train' },
            { time: '11:40', placeId: 'tham_krasae', note: '精華木棧道段，下車拍照', icon: 'Camera' },
            { time: '13:10', note: '午餐：周邊簡餐', icon: 'Utensils' },
            { time: '14:00', note: '包車回曼谷 (約 3 小時)', icon: 'Hotel' },
            { time: '17:00', placeId: 'hotel_bkk_end', note: '入住曼谷 (確認實際分館地址)', icon: 'Hotel' },
          ]
        };

        // --- Components ---

        // 1. Driver/Location Card
        const DriverCard = ({ place, onClose }) => {
            useEffect(() => {
                document.body.style.overflow = 'hidden';
                return () => { document.body.style.overflow = 'unset'; };
            }, []);

            return (
                <div className="fixed inset-0 z-50 flex items-center justify-center bg-black/85 p-4 animate-fade-in" onClick={onClose}>
                    <div className="bg-white rounded-2xl p-6 w-full max-w-sm space-y-4 text-center shadow-2xl relative" onClick={e => e.stopPropagation()}>
                        <div className="flex justify-between items-start">
                            <h3 className="text-gray-500 text-xs font-bold uppercase tracking-widest">Show to Driver</h3>
                            <button onClick={onClose} className="p-2 -mr-2 -mt-2 hover:bg-gray-100 rounded-full text-gray-400">
                                <Icons.X className="w-6 h-6" />
                            </button>
                        </div>
                        
                        <div className="py-4 border-b border-gray-100">
                            <h2 className="text-3xl font-bold text-gray-900 leading-tight mb-3 font-thai">{place.nameThai}</h2>
                            <p className="text-gray-600 text-lg font-medium">{place.name}</p>
                        </div>

                        <div className="bg-gray-50 p-4 rounded-xl text-left border border-gray-100">
                            <p className="text-xs text-gray-500 mb-1 font-bold uppercase">Address</p>
                            <p className="text-sm text-gray-800 leading-relaxed font-thai">{place.address}</p>
                        </div>

                        <a 
                            href={`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(place.googleQuery)}`}
                            target="_blank"
                            rel="noopener noreferrer"
                            className="flex items-center justify-center gap-2 w-full bg-blue-600 text-white py-4 rounded-xl font-bold text-lg hover:bg-blue-700 active:bg-blue-800 transition-colors shadow-lg shadow-blue-200"
                        >
                            <Icons.Navigation className="w-6 h-6" />
                            開啟地圖 (Google Maps)
                        </a>
                    </div>
                </div>
            );
        };

        // 2. SOS / Emergency Card
        const SOSCard = ({ onClose }) => {
            useEffect(() => {
                document.body.style.overflow = 'hidden';
                return () => { document.body.style.overflow = 'unset'; };
            }, []);

            return (
                <div className="fixed inset-0 z-[60] flex items-center justify-center bg-red-600/90 p-4 animate-fade-in" onClick={onClose}>
                    <div className="bg-white rounded-2xl p-6 w-full max-w-sm space-y-6 text-center shadow-2xl relative border-4 border-red-500" onClick={e => e.stopPropagation()}>
                        <div className="flex justify-between items-center border-b border-gray-100 pb-2">
                            <h3 className="text-red-600 font-bold text-lg flex items-center gap-2">
                                <Icons.Siren className="w-6 h-6" /> 緊急求救 SOS
                            </h3>
                            <button onClick={onClose} className="p-2 -mr-2 hover:bg-red-50 rounded-full text-gray-400">
                                <Icons.X className="w-6 h-6" />
                            </button>
                        </div>
                        
                        <div className="space-y-6">
                            <div className="bg-red-50 p-4 rounded-xl border border-red-100">
                                <p className="text-sm text-gray-500 mb-1">我是遊客，我迷路了</p>
                                <p className="text-3xl font-bold text-gray-900 font-thai leading-snug">
                                    ฉันหลงทาง<br/>ช่วยฉันด้วย
                                </p>
                            </div>

                            <div className="bg-red-50 p-4 rounded-xl border border-red-100">
                                <p className="text-sm text-gray-500 mb-1">請幫我打電話給這個號碼</p>
                                <p className="text-xl font-bold text-gray-900 font-thai mb-2">
                                    ช่วยโทรหาเบอร์นี้ให้หน่อย
                                </p>
                                <div className="h-10 border-b-2 border-dashed border-gray-300 flex items-end justify-center text-gray-400 font-mono">
                                    (在此填寫司機電話)
                                </div>
                            </div>
                        </div>

                        <button 
                            onClick={onClose}
                            className="w-full bg-gray-100 text-gray-600 py-3 rounded-xl font-bold hover:bg-gray-200 transition-colors"
                        >
                            關閉 Close
                        </button>
                    </div>
                </div>
            );
        };

        const TimelineItem = ({ item, isLast, onShowLocation }) => {
            const place = item.placeId ? PLACES[item.placeId] : null;
            const IconComponent = item.icon ? Icons[item.icon] : Icons.MapPin;

            return (
                <div className="flex gap-4 group">
                    <div className="flex flex-col items-center min-w-[3.5rem]">
                        <span className="text-sm font-bold text-blue-600 font-mono mt-1">{item.time}</span>
                        <div className="h-full w-px bg-gray-200 my-2 relative">
                            {!isLast && <div className="absolute inset-x-0 top-0 bottom-0 bg-gray-200" />}
                            <div className={`absolute top-0 left-1/2 -translate-x-1/2 w-3 h-3 rounded-full border-2 z-10 bg-white ${place ? 'border-blue-500' : 'border-gray-400'}`} />
                        </div>
                    </div>

                    <div className="flex-1 pb-6">
                        <div className="bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:shadow-md transition-shadow active:scale-[0.99] duration-200">
                            <div className="flex justify-between items-start mb-2">
                                <h3 className="font-bold text-gray-800 text-lg leading-snug">
                                    {place ? place.name : item.note.split('：')[0]}
                                </h3>
                                <div className={`p-2 rounded-full ${place ? 'bg-blue-50 text-blue-500' : 'bg-gray-100 text-gray-400'}`}>
                                    <IconComponent className="w-4 h-4" />
                                </div>
                            </div>
                            
                            {place && (
                                <p className="text-xs text-gray-500 mb-3 line-clamp-1 font-thai">{place.nameThai}</p>
                            )}
                            
                            <div className="text-sm text-gray-600 mb-4 bg-gray-50 p-2.5 rounded-lg border border-gray-100 leading-relaxed">
                                {item.note}
                            </div>

                            {place && (
                                <button 
                                    onClick={() => onShowLocation(place)}
                                    className="w-full bg-white border border-blue-200 text-blue-600 text-sm font-bold py-2.5 px-3 rounded-lg flex items-center justify-center gap-2 hover:bg-blue-50 active:bg-blue-100 transition-colors"
                                >
                                    <Icons.MapPin className="w-4 h-4" /> 
                                    <span>司機卡 & 導航</span>
                                    <Icons.ArrowRight className="w-4 h-4 ml-auto opacity-50" />
                                </button>
                            )}
                        </div>
                    </div>
                </div>
            );
        };

        const TipsCard = ({ title, iconName, children, color = "blue" }) => {
            const IconComponent = Icons[iconName] || Icons.Info;
            const colorClasses = {
                blue: "bg-blue-50 text-blue-900 border-blue-100",
                amber: "bg-amber-50 text-amber-900 border-amber-100",
                rose: "bg-rose-50 text-rose-900 border-rose-100",
                red: "bg-red-50 text-red-900 border-red-100"
            };
            const iconColors = {
                blue: "text-blue-600",
                amber: "text-amber-600",
                rose: "text-rose-600",
                red: "text-red-600"
            };

            return (
                <div className={`p-5 rounded-xl border ${colorClasses[color]} mb-4 shadow-sm`}>
                    <div className="flex items-center gap-2 mb-3 font-bold text-base border-b border-black/5 pb-2">
                        <IconComponent className={`w-5 h-5 ${iconColors[color]}`} />
                        {title}
                    </div>
                    <div className="text-sm leading-relaxed opacity-90 font-medium">
                        {children}
                    </div>
                </div>
            );
        };

        const App = () => {
            const [activeTab, setActiveTab] = useState('day1');
            const [selectedPlace, setSelectedPlace] = useState(null);
            const [showSOS, setShowSOS] = useState(false);

            // 處理捲動到頂部
            const handleTabChange = (tab) => {
                setActiveTab(tab);
                window.scrollTo({ top: 0, behavior: 'smooth' });
            };

            return (
                <div className="min-h-screen bg-gray-50 font-sans max-w-md mx-auto shadow-2xl overflow-hidden relative pb-24">
                    {/* Header */}
                    <header className="bg-gradient-to-br from-teal-600 to-blue-700 text-white p-6 pb-16 rounded-b-[2.5rem] shadow-lg relative overflow-hidden">
                        <div className="absolute top-0 right-0 p-4 opacity-10">
                            <Icons.MapPin className="w-32 h-32" />
                        </div>
                        <div className="relative z-10 mt-2">
                            <div className="inline-flex items-center gap-2 px-3 py-1 bg-white/20 rounded-full text-xs font-bold mb-3 backdrop-blur-md border border-white/20 shadow-sm">
                                <span className="w-2 h-2 rounded-full bg-green-400 animate-pulse"></span>
                                6人同行包車遊
                            </div>
                            <h1 className="text-3xl font-extrabold mb-2 tracking-tight">曼谷 & 北碧府<br/>3天2夜之旅</h1>
                            <div className="flex items-center gap-2 text-blue-100 text-sm font-medium">
                                <Icons.Calendar className="w-4 h-4" />
                                {TRIP_DATES}
                            </div>
                        </div>
                    </header>

                    {/* Tabs */}
                    <div className="flex justify-center -mt-8 px-4 mb-6 relative z-20">
                        <div className="bg-white p-1.5 rounded-2xl shadow-xl flex w-full max-w-xs ring-1 ring-black/5">
                            {['day1', 'day2', 'day3', 'info'].map((tab) => (
                                <button
                                    key={tab}
                                    onClick={() => handleTabChange(tab)}
                                    className={`flex-1 py-2.5 rounded-xl text-sm font-bold transition-all duration-200 ${
                                        activeTab === tab 
                                            ? 'bg-blue-600 text-white shadow-md transform scale-105' 
                                            : 'text-gray-400 hover:text-gray-600 hover:bg-gray-50'
                                    }`}
                                >
                                    {tab === 'info' ? '指南' : tab.replace('day', 'Day ')}
                                </button>
                            ))}
                        </div>
                    </div>

                    {/* Main Content */}
                    <main className="px-5 pb-10">
                        {activeTab === 'day1' && (
                            <div className="space-y-1 animate-slide-up">
                                <div className="flex items-center gap-2 mb-6 ml-1">
                                    <div className="w-1 h-8 bg-blue-500 rounded-full"></div>
                                    <div>
                                        <h2 className="text-gray-900 font-bold text-lg">曼谷出發 & 天空步道</h2>
                                        <p className="text-xs text-gray-500">佛統大塔 · 虎窟寺 · 河景晚餐</p>
                                    </div>
                                </div>
                                {ITINERARY.day1.map((item, index) => (
                                    <TimelineItem key={index} item={item} isLast={index === ITINERARY.day1.length - 1} onShowLocation={setSelectedPlace} />
                                ))}
                            </div>
                        )}

                        {activeTab === 'day2' && (
                            <div className="space-y-1 animate-slide-up">
                                <div className="flex items-center gap-2 mb-6 ml-1">
                                    <div className="w-1 h-8 bg-amber-500 rounded-full"></div>
                                    <div>
                                        <h2 className="text-gray-900 font-bold text-lg">瀑布 & 野生動物園</h2>
                                        <p className="text-xs text-gray-500">Erawan 七層瀑布 · 長頸鹿合照</p>
                                    </div>
                                </div>
                                <div className="bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-100 rounded-xl p-4 mb-6 flex gap-3 text-sm text-amber-900 shadow-sm">
                                    <Icons.ShieldAlert className="w-5 h-5 shrink-0 text-amber-600" />
                                    <p className="font-medium">今日是體力日！請攜帶溯溪鞋、泳衣、毛巾、乾袋。</p>
                                </div>
                                {ITINERARY.day2.map((item, index) => (
                                    <TimelineItem key={index} item={item} isLast={index === ITINERARY.day2.length - 1} onShowLocation={setSelectedPlace} />
                                ))}
                            </div>
                        )}

                        {activeTab === 'day3' && (
                            <div className="space-y-1 animate-slide-up">
                                <div className="flex items-center gap-2 mb-6 ml-1">
                                    <div className="w-1 h-8 bg-rose-500 rounded-full"></div>
                                    <div>
                                        <h2 className="text-gray-900 font-bold text-lg">歷史鐵道 & 返回曼谷</h2>
                                        <p className="text-xs text-gray-500">死亡鐵路火車 · 懸崖木棧道</p>
                                    </div>
                                </div>
                                {ITINERARY.day3.map((item, index) => (
                                    <TimelineItem key={index} item={item} isLast={index === ITINERARY.day3.length - 1} onShowLocation={setSelectedPlace} />
                                ))}
                                <div className="bg-rose-50 border border-rose-100 rounded-xl p-4 mt-4 flex gap-3 text-sm text-rose-900 shadow-sm">
                                    <Icons.Train className="w-5 h-5 shrink-0 text-rose-600" />
                                    <p className="font-medium">注意：泰國火車誤點屬常態，請以現場公告為準。司機會在 Tham Krasae 接你們。</p>
                                </div>
                            </div>
                        )}

                        {activeTab === 'info' && (
                            <div className="space-y-4 animate-slide-up">
                                {/* 走失與應變策略 */}
                                <TipsCard title="走失應變與會合 (Lost & Found)" iconName="Users" color="red">
                                    <div className="space-y-3 mt-1">
                                        <p className="text-gray-700 font-bold">約定會合點 (Meeting Points):</p>
                                        <ul className="list-disc pl-5 space-y-1 text-gray-600 mb-4">
                                            <li><strong>景點:</strong> 一律在「售票口」或「入口明顯招牌」下。</li>
                                            <li><strong>飯店:</strong> 大廳櫃台 (Lobby Reception)。</li>
                                            <li><strong>夜市/人多處:</strong> 下車地點的原地。</li>
                                        </ul>
                                        
                                        <p className="text-gray-700 font-bold">若真的走失 (Action Plan):</p>
                                        <ol className="list-decimal pl-5 space-y-1 text-gray-600 mb-4">
                                            <li>留在原地，不要亂跑。</li>
                                            <li>打電話/傳訊息給司機或同伴。</li>
                                            <li>若語言不通，請點擊下方紅色按鈕求助路人。</li>
                                        </ol>

                                        <button 
                                            onClick={() => setShowSOS(true)}
                                            className="w-full bg-red-600 text-white py-3 rounded-lg font-bold flex items-center justify-center gap-2 shadow-lg hover:bg-red-700 active:scale-95 transition-all"
                                        >
                                            <Icons.Siren className="w-5 h-5 animate-pulse" />
                                            顯示泰文求救卡 (Show SOS Card)
                                        </button>
                                    </div>
                                </TipsCard>

                                <TipsCard title="必帶物品清單" iconName="ShieldAlert" color="rose">
                                    <ul className="space-y-2 mt-1">
                                        <li className="flex gap-2 items-start"><span className="text-rose-400 font-bold">✓</span> <strong>溯溪鞋/防滑涼鞋</strong> (Day 2 瀑布必備)</li>
                                        <li className="flex gap-2 items-start"><span className="text-rose-400 font-bold">✓</span> <strong>泳衣/快乾衣/毛巾</strong> (瀑布玩水)</li>
                                        <li className="flex gap-2 items-start"><span className="text-rose-400 font-bold">✓</span> <strong>乾袋/防水袋</strong> (保護手機相機)</li>
                                        <li className="flex gap-2 items-start"><span className="text-rose-400 font-bold">✓</span> 防蚊液、防曬、帽子</li>
                                        <li className="flex gap-2 items-start"><span className="text-rose-400 font-bold">✓</span> 現金 (部分門票/小吃攤)</li>
                                    </ul>
                                </TipsCard>

                                <TipsCard title="重要電話" iconName="Phone" color="amber">
                                    <div className="space-y-3 mt-1">
                                        <div className="flex justify-between items-center border-b border-amber-200/50 pb-2">
                                            <span>Keeree Tara 餐廳</span>
                                            <a href="tel:+6634513855" className="bg-white px-3 py-1 rounded-full text-xs font-mono font-bold text-amber-600 border border-amber-200">+66 34 513 855</a>
                                        </div>
                                        <div className="flex justify-between items-center">
                                            <span>Bubble in the Forest</span>
                                            <a href="tel:0657276888" className="bg-white px-3 py-1 rounded-full text-xs font-mono font-bold text-amber-600 border border-amber-200">065-727-6888</a>
                                        </div>
                                    </div>
                                </TipsCard>
                                
                                <div className="mt-8 pt-6 border-t border-gray-200 text-center text-gray-400 text-xs pb-10">
                                    <p>祝旅途愉快 Have a nice trip!</p>
                                    <p className="mt-1 opacity-50">Designed for 2026 Bangkok Trip</p>
                                </div>
                            </div>
                        )}
                    </main>

                    {/* Footer Button */}
                    <div className="fixed bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-white via-white/95 to-transparent max-w-md mx-auto z-30">
                        <a 
                            href="https://www.google.com/maps/search/?api=1&query=Kanchanaburi" 
                            target="_blank"
                            rel="noopener noreferrer"
                            className="w-full bg-slate-800 text-white py-3.5 rounded-xl font-bold flex items-center justify-center gap-2 shadow-xl shadow-slate-200 hover:bg-slate-900 transition-colors active:scale-95"
                        >
                            <Icons.MapPin className="w-5 h-5 text-green-400" />
                            開啟 Google Maps 概覽
                        </a>
                    </div>

                    {/* Modals */}
                    {selectedPlace && (
                        <DriverCard place={selectedPlace} onClose={() => setSelectedPlace(null)} />
                    )}
                    {showSOS && (
                        <SOSCard onClose={() => setShowSOS(false)} />
                    )}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
